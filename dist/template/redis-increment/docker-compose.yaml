# Version of the docker-compose
version: '3'
# Our containers
services:
  # Define our redisincrement container
  learn:
    # Use our image build previously
    image: redisincrement:latest
    # Wait for redis start before starting
    depends_on:
      - redis
    # Map the port 80 from the container to 80 on the network
    ports: 
      - "80:80"
    # Define on wich network the containerse work
    networks:
      - net
    # Environment variable
    environment:
    - NOM=Pierre

  # Define redis container
  redis:
    image: redis
    # Expose the port of redis
    ports:
      - "6379:6379"
      # Define on wich network the containerse work
    networks:
    - net
# The network
networks:
  net:
